/**
 * AnimatedBackground.css
 * 
 * Academic E-Learning Background Design
 * Features: Knowledge network nodes, flowing connections, academic color palette
 * 
 * Color Palette:
 * - Deep Blue: #0a1628, #1e3a5f
 * - Soft Cyan: #06b6d4, #22d3ee
 * - Academic Navy: #0f172a
 * - White accents: rgba(255,255,255,0.x)
 */

/* ==========================================
   CSS Custom Properties - Academic Theme
   ========================================== */
:root {
    /* Academic Light Mode */
    --bg-academic-1: #f0f9ff;
    /* Sky 50 */
    --bg-academic-2: #e0f2fe;
    /* Sky 100 */
    --bg-academic-3: #0c4a6e;
    /* Sky 900 */
    --node-color: rgba(14, 165, 233, 0.15);
    --line-color: rgba(6, 182, 212, 0.08);
    --accent-glow: rgba(14, 165, 233, 0.3);
}

[data-theme="dark"],
.dark-mode {
    --bg-academic-1: #0a1628;
    --bg-academic-2: #0f172a;
    --bg-academic-3: #1e3a5f;
    --node-color: rgba(14, 165, 233, 0.2);
    --line-color: rgba(6, 182, 212, 0.1);
    --accent-glow: rgba(34, 211, 238, 0.25);
}

/* ==========================================
   Main Background Container
   ========================================== */
.animated-background {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    overflow: hidden;
    z-index: -1;

    /* Deep academic gradient */
    background: linear-gradient(135deg,
            #0a1628 0%,
            #0f172a 25%,
            #1e3a5f 50%,
            #0c4a6e 75%,
            #0a1628 100%);
    background-size: 400% 400%;
    animation: academicGradient 25s ease infinite;
}

/* Light mode background */
:root:not([data-theme="dark"]):not(.dark-mode) .animated-background {
    background: linear-gradient(135deg,
            #f0f9ff 0%,
            #e0f2fe 25%,
            #bae6fd 50%,
            #e0f2fe 75%,
            #f0f9ff 100%);
    background-size: 400% 400%;
}

@keyframes academicGradient {

    0%,
    100% {
        background-position: 0% 50%;
    }

    25% {
        background-position: 50% 0%;
    }

    50% {
        background-position: 100% 50%;
    }

    75% {
        background-position: 50% 100%;
    }
}

/* ==========================================
   Knowledge Network Grid
   ========================================== */
.animated-background__network {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0.4;

    /* Subtle grid pattern */
    background-image:
        linear-gradient(rgba(14, 165, 233, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(14, 165, 233, 0.03) 1px, transparent 1px);
    background-size: 60px 60px;
    animation: gridPulse 20s ease-in-out infinite;
}

@keyframes gridPulse {

    0%,
    100% {
        opacity: 0.3;
    }

    50% {
        opacity: 0.5;
    }
}

/* Light mode grid */
:root:not([data-theme="dark"]):not(.dark-mode) .animated-background__network {
    background-image:
        linear-gradient(rgba(12, 74, 110, 0.04) 1px, transparent 1px),
        linear-gradient(90deg, rgba(12, 74, 110, 0.04) 1px, transparent 1px);
}

/* ==========================================
   Floating Knowledge Nodes
   ========================================== */
.animated-background__nodes {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
}

/* Individual knowledge nodes */
.knowledge-node {
    position: absolute;
    border-radius: 50%;
    background: radial-gradient(circle at 30% 30%,
            rgba(34, 211, 238, 0.4) 0%,
            rgba(14, 165, 233, 0.2) 50%,
            transparent 70%);
    animation: nodeFloat 20s ease-in-out infinite;
    will-change: transform;
}

.knowledge-node::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 30%;
    height: 30%;
    background: rgba(255, 255, 255, 0.6);
    border-radius: 50%;
    filter: blur(2px);
}

/* Node variations */
.knowledge-node--1 {
    width: 120px;
    height: 120px;
    top: 10%;
    left: 15%;
    animation-delay: 0s;
    animation-duration: 25s;
}

.knowledge-node--2 {
    width: 80px;
    height: 80px;
    top: 60%;
    left: 10%;
    animation-delay: -5s;
    animation-duration: 22s;
}

.knowledge-node--3 {
    width: 150px;
    height: 150px;
    top: 20%;
    right: 20%;
    animation-delay: -8s;
    animation-duration: 28s;
}

.knowledge-node--4 {
    width: 60px;
    height: 60px;
    top: 70%;
    right: 15%;
    animation-delay: -12s;
    animation-duration: 20s;
}

.knowledge-node--5 {
    width: 100px;
    height: 100px;
    top: 45%;
    left: 50%;
    animation-delay: -3s;
    animation-duration: 24s;
}

.knowledge-node--6 {
    width: 70px;
    height: 70px;
    bottom: 15%;
    left: 35%;
    animation-delay: -7s;
    animation-duration: 26s;
}

@keyframes nodeFloat {

    0%,
    100% {
        transform: translate(0, 0) scale(1);
        opacity: 0.6;
    }

    25% {
        transform: translate(20px, -30px) scale(1.05);
        opacity: 0.8;
    }

    50% {
        transform: translate(-10px, 20px) scale(0.95);
        opacity: 0.5;
    }

    75% {
        transform: translate(15px, 10px) scale(1.02);
        opacity: 0.7;
    }
}

/* Light mode nodes */
:root:not([data-theme="dark"]):not(.dark-mode) .knowledge-node {
    background: radial-gradient(circle at 30% 30%,
            rgba(12, 74, 110, 0.15) 0%,
            rgba(14, 165, 233, 0.08) 50%,
            transparent 70%);
}

:root:not([data-theme="dark"]):not(.dark-mode) .knowledge-node::after {
    background: rgba(255, 255, 255, 0.9);
}

/* ==========================================
   Connection Lines (Knowledge Flow)
   ========================================== */
.animated-background__connections {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    opacity: 0.3;
}

.connection-line {
    position: absolute;
    height: 1px;
    background: linear-gradient(90deg,
            transparent 0%,
            rgba(34, 211, 238, 0.5) 20%,
            rgba(14, 165, 233, 0.8) 50%,
            rgba(34, 211, 238, 0.5) 80%,
            transparent 100%);
    animation: lineFlow 12s linear infinite;
    transform-origin: left center;
}

.connection-line--1 {
    width: 300px;
    top: 25%;
    left: -100px;
    transform: rotate(15deg);
    animation-delay: 0s;
}

.connection-line--2 {
    width: 250px;
    top: 45%;
    right: -80px;
    transform: rotate(-20deg);
    animation-delay: -3s;
}

.connection-line--3 {
    width: 400px;
    top: 65%;
    left: -150px;
    transform: rotate(8deg);
    animation-delay: -6s;
}

.connection-line--4 {
    width: 200px;
    top: 80%;
    right: -60px;
    transform: rotate(-12deg);
    animation-delay: -9s;
}

@keyframes lineFlow {
    0% {
        transform: translateX(-100%) rotate(var(--rotation, 0deg));
        opacity: 0;
    }

    10% {
        opacity: 0.6;
    }

    90% {
        opacity: 0.6;
    }

    100% {
        transform: translateX(calc(100vw + 100%)) rotate(var(--rotation, 0deg));
        opacity: 0;
    }
}

/* Light mode lines */
:root:not([data-theme="dark"]):not(.dark-mode) .connection-line {
    background: linear-gradient(90deg,
            transparent 0%,
            rgba(12, 74, 110, 0.3) 20%,
            rgba(14, 165, 233, 0.5) 50%,
            rgba(12, 74, 110, 0.3) 80%,
            transparent 100%);
}

/* ==========================================
   Subtle Accent Glow
   ========================================== */
.animated-background::before {
    content: '';
    position: absolute;
    top: -20%;
    left: -10%;
    width: 50%;
    height: 50%;
    background: radial-gradient(ellipse at center,
            rgba(14, 165, 233, 0.15) 0%,
            transparent 60%);
    animation: accentGlow 15s ease-in-out infinite;
    filter: blur(60px);
}

.animated-background::after {
    content: '';
    position: absolute;
    bottom: -20%;
    right: -10%;
    width: 45%;
    height: 45%;
    background: radial-gradient(ellipse at center,
            rgba(6, 182, 212, 0.12) 0%,
            transparent 60%);
    animation: accentGlow 18s ease-in-out infinite reverse;
    filter: blur(60px);
}

@keyframes accentGlow {

    0%,
    100% {
        transform: translate(0, 0) scale(1);
        opacity: 0.5;
    }

    50% {
        transform: translate(30px, 20px) scale(1.1);
        opacity: 0.8;
    }
}

/* Light mode glows */
:root:not([data-theme="dark"]):not(.dark-mode) .animated-background::before {
    background: radial-gradient(ellipse at center,
            rgba(14, 165, 233, 0.1) 0%,
            transparent 60%);
}

:root:not([data-theme="dark"]):not(.dark-mode) .animated-background::after {
    background: radial-gradient(ellipse at center,
            rgba(6, 182, 212, 0.08) 0%,
            transparent 60%);
}

/* ==========================================
   Accessibility & Performance
   ========================================== */
@media (prefers-reduced-motion: reduce) {

    .animated-background,
    .animated-background::before,
    .animated-background::after,
    .animated-background__network,
    .knowledge-node,
    .connection-line {
        animation: none;
    }

    .animated-background {
        background-size: 100% 100%;
    }
}

/* Performance mode */
.animated-background--performance .animated-background__nodes,
.animated-background--performance .animated-background__connections,
.animated-background--performance .animated-background__network {
    display: none;
}